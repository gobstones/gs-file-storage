<link rel="import" href="gs-custom-event-target.html">
<dom-module id="gs-file">
  <template>
    <style>
      

      /*# sourceMappingURL=style.css.map */

    </style>


  </template>
  <script>
    var GSFILE;

    GSFILE = (function() {
      var constructor, _content, _name;
      _content = "";
      _name = "";
      constructor = function(name) {
        CustomEventTarget.apply(this);
        _name = name;
        this._storage = GsFileStorage();
        this.save = function(content, host) {
          var saveFileError;
          try {
            _content = content;
            this._storage.storageFile(this);
          } catch (_error) {
            saveFileError = _error;
            console.log("" + saveFileError);
          }
          return this.fire("change", host);
        };
        this.fire = function(eventName, host) {
          var evnt;
          evnt = document.createEvent('CustomEvent');
          evnt.initEvent(eventName, true, true);
          evnt.host = host;
          return this.dispatchEvent(evnt);
        };
        this.removeIt = function() {
          var removeFileError;
          try {
            this._storage.removeFile({
              name: this.name
            });
          } catch (_error) {
            removeFileError = _error;
            console.log("" + removeFileError);
          }
          return this.fire("remove");
        };
        this.getName = function() {
          return _name;
        };
        this.getContent = function() {
          return _content;
        };
        this.setContent = function(string) {
          return _content = string;
        };
        this.getData = function() {
          return {
            name: _name,
            content: _content
          };
        };
        return this;
      };
      return constructor;
    })();

  </script>
</dom-module>