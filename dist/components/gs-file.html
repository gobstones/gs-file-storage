<link rel="import" href="gs-custom-event-target.html">
<dom-module id="gs-file">
  <template>
    <style>
      

      /*# sourceMappingURL=style.css.map */

    </style>


  </template>
  <script>
    var GSFILE;

    GSFILE = (function() {
      var constructor, _content, _name;
      _content = "";
      _name = "";
      constructor = function(name) {
        CustomEventTarget.apply(this);
        _name = name;
        this._storage = GsFileStorage();
        this.save = function(content, host) {
          _content = content;
          this._storage.storageFile(this);
          return this._fire("change", host);
        };
        this._fire = function(eventName, host) {
          var evnt;
          evnt = document.createEvent('CustomEvent');
          evnt.initEvent(eventName, true, true);
          evnt.host = host;
          return this.dispatchEvent(evnt);
        };
        this.remove = function() {
          return this.actions = {};
        };
        this._fire("fileremove");
        this.getName = function() {
          return _name;
        };
        this.getContent = function() {
          return _content;
        };
        this.setContent = function(string) {
          return _content = string;
        };
        this.update = function(string, host) {
          _content = string;
          return this._fire("change", host);
        };
        this.getData = function() {
          return {
            name: _name,
            content: _content
          };
        };
        return this;
      };
      return constructor;
    })();

  </script>
</dom-module>